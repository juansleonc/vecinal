<%= condomedia_form_for([@company, @apartment], auto_placeholder: @apartment.new_record?) do |f| %>

  <%= render 'shared/model_errors', resource: @apartment %>

  <div class="row">

    <div class="col-sm-12"><h4 class="blue"><%= t 'general.overview' %></h4></div>

    <div class="form-group col-sm-6">
      <%=
        f.select :building_id,
          options_from_collection_for_select(@company.buildings, 'id', 'name', @apartment.building_id),
          {},
          { class: 'form-control' }
      %>
    </div>
    <div class="form-group col-sm-6">
      <%= f.number_field :apartment_number, class: 'form-control' %>
    </div>
    <div class="form-group col-sm-6">
      <%= f.select :category,
        Apartment::CATEGORIES.map { |cat| [t("general.apartment_categories.#{cat}"), cat] },
        {},
        { class: 'form-control' }
      %>
    </div>
    <div class="form-group col-sm-6">
      <%= f.text_field :available_at, class: 'form-control trigger-datepicker', disabled: @apartment.only_display? %>
    </div>

    <div class="col-xs-12"><hr/></div>
    <div class="col-sm-12"><h4 class="blue"><%= t 'general.details' %></h4></div>

    <div class="form-group col-sm-6">
      <%= f.select :bedrooms,
        Apartment::BEDROOMS_OPTIONS.map { |option| [t("general.apartment_bedrooms.#{option}"), option] },
        {},
        { class: 'form-control' }
      %>
    </div>
    <div class="form-group col-sm-6">
      <%= f.select :bathrooms,
        Apartment::BATHROOMS_OPTIONS.map { |option| [t("general.apartment_bathrooms.#{option}"), option] },
        {},
        { class: 'form-control' }
      %>
    </div>
    <div class="form-group col-sm-6">
      <%= f.select :show_price,
        Apartment::PRICE_OPTIONS.map { |option| [t("general.apartment_price_options.#{option}"), option] },
        {},
        { class: 'form-control', disabled: @apartment.only_display? }
      %>
    </div>
    <div class="form-group col-sm-6">
      <%= f.number_field :price, class: 'form-control', disabled: !@apartment.show_price? || @apartment.only_display? %>
    </div>
    <div class="form-group col-xs-12">
      <%= f.select :show_contact,
        Apartment::CONTACT_OPTIONS.map { |option| [t("general.apartment_contact_options.#{option}"), option] },
        {},
        { class: 'form-control' }
      %>
    </div>
    <div class="form-group col-sm-6">
      <%= f.text_field :secondary_phone_number, class: 'form-control', disabled: !@apartment.show_contact? %>
    </div>
    <div class="form-group col-sm-6">
      <%= f.text_field :secondary_email, class: 'form-control', disabled: !@apartment.show_contact? %>
    </div>
    <div class="form-group col-xs-12">
      <%= f.text_area :description, class: 'form-control js-auto-size' %>
    </div>
    <div class="form-group col-xs-12 furnished-pets-div <%= 'hidden-div' unless @apartment.category == 'for_rent' %>">
      <%= condomedia_checkbox f, :furnished, Apartment.human_attribute_name('furnished') %>
      <%= condomedia_checkbox f, :pets, Apartment.human_attribute_name('pets') %>
    </div>

    <div class="col-xs-12"><hr/></div>
    <div class="col-xs-12"><h4 class="blue"><%= t 'general.media' %></h4></div>

    <div class="form-group col-xs-12">
      <%= render 'images/images_section', f: f, model_object: @apartment %>
    </div>

    <div class="col-xs-12"><hr/></div>

    <div class="col-xs-12 action-buttons">
      <%= f.submit t('general.continue'), class: 'btn btn-primary' %>
      <%= link_to t('general.cancel'), company_public_apartments_path(@company), class: 'cancel' %>
    </div>
  </div>
<% end %>
